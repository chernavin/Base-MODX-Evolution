(function(){var a;tinymce.PluginManager.requireLangPack("clearfloat");tinymce.create("tinymce.plugins.ClearFloatPlugin",{init:function(b,c){a="p,img,table,h1,h2,h3,h4,h5,h6,div";b.addCommand("mceClearFloat",this._mceClearFloat);b.addButton("clearfloat",{title:"clearfloat.button_desc",cmd:"mceClearFloat",image:c+"/img/clear.gif"});b.onNodeChange.add(function(e,d,i){var h=e.getParam("clearfloat_elements",a);var g=e.dom.getParent(i,h);if(g){var f=e.dom.parseStyle(e.dom.getAttrib(g,"style"));if(f.clear=="both"){d.setDisabled("clearfloat",false);d.setActive("clearfloat",true)}else{d.setDisabled("clearfloat",false);d.setActive("clearfloat",false)}}else{d.setDisabled("clearfloat",true);d.setActive("clearfloat",false)}})},createControl:function(c,b){return null},getInfo:function(){return{longname:"Clear Float plugin",author:"Ferenc Veres, WPSnet International ApS",authorurl:"http://www.wpsnet.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/clearfloat",version:"1.3"}},_mceClearFloat:function(h,c){var b=tinyMCE.activeEditor;var g=b.getParam("clearfloat_elements",a);var e=b.selection.getNode();var f=b.dom.getParent(e,g);if(f){var d=b.dom.parseStyle(b.dom.getAttrib(f,"style"));if(d.clear=="both"){d.clear=""}else{d.clear="both"}b.dom.setAttrib(f,"style",b.dom.serializeStyle(d))}}});tinymce.PluginManager.add("clearfloat",tinymce.plugins.ClearFloatPlugin)})();